language : android
sudo : required
jdk : oraclejdk8
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.android/build-cache
env:
 global:
 - ANDROID_API=26
 - ANDROID_BUILD_TOOLS=26.0.2
android:
  components:
  - tools
  - platform-tools
  - android-${ANDROID_API}
  - build-tools-${ANDROID_BUILD_TOOLS}
  - extra
  - sys-img-armeabi-v7a-android-21
  - sys-img-x86-android-21
  - sys-img-x86_64-android-21
  - sys-img-armeabi-v7a-android-22
  - sys-img-x86-android-22
  - sys-img-x86_64-android-22
  - sys-img-armeabi-v7a-android-23
  - sys-img-x86-android-23
  - sys-img-x86_64-android-23
  - sys-img-armeabi-v7a-android-24
  - sys-img-x86-android-24
  - sys-img-x86_64-android-24
  - sys-img-armeabi-v7a-android-25
  - sys-img-x86-android-25
  - sys-img-x86_64-android-25
  - sys-img-armeabi-v7a-android-26
  - sys-img-x86-android-26
  - sys-img-x86_64-android-26
script:
- ./gradlew clean test build